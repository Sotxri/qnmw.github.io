import{c as A,j as i,C as L,a as V,b as J,d as K,S as X,r as y,u as Y}from"./index-BeX3UAU6.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=A("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=A("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=A("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=A("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function se({onGenerate:d,onSort:s,onSizeChange:S,onSpeedChange:k,onAbort:z,disabled:j,currentSize:D,currentSpeed:R,isPaused:P,onPauseToggle:M}){return i.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-center bg-background border p-4 rounded-lg",children:[i.jsxs("button",{onClick:d,disabled:j,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Generate new array",children:[i.jsx(ee,{size:16}),"Generate"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>s("bubble"),disabled:j,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Bubble Sort"}),i.jsx("button",{onClick:()=>s("quick"),disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Quick Sort"}),i.jsx("button",{onClick:()=>s("merge"),disabled:j,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Merge Sort"}),i.jsx("button",{onClick:()=>s("insertion"),disabled:j,className:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Insertion Sort"}),i.jsx("button",{onClick:()=>s("selection"),disabled:j,className:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Selection Sort"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:M,disabled:!j,className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:P?"Resume":"Pause",children:[P?i.jsx(_,{size:16}):i.jsx(Z,{size:16}),P?"Resume":"Pause"]}),i.jsxs("button",{onClick:z,disabled:!j,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:"Stop sorting",children:[i.jsx(ae,{size:16}),"Stop"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(I,{size:16,className:"text-gray-600"}),i.jsx("input",{type:"range",min:"10",max:"100",value:D,onChange:E=>S(Number(E.target.value)),disabled:j,className:"w-32"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Size: ",D]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(I,{size:16,className:"text-gray-600"}),i.jsx("input",{type:"range",min:"1",max:"100",value:R,onChange:E=>k(Number(E.target.value)),className:"w-32"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Speed: ",R,"x"]})]})]})}function te({array:d}){const s=Math.max(...d.map(S=>S.value));return i.jsx("div",{className:"flex items-end justify-center gap-1 h-96 p-4 bg-background border rounded-lg",children:d.map((S,k)=>i.jsx("div",{style:{height:`${S.value/s*100}%`,width:`${100/d.length}%`,maxWidth:"20px",transition:"all 0.1s ease"},className:`
            ${S.isComparing?"bg-yellow-500 dark:bg-yellow-600":""}
            ${S.isSwapping?"bg-red-500 dark:bg-red-600":""}
            ${S.isSorted?"bg-green-500 dark:bg-green-600":""}
            ${!S.isComparing&&!S.isSwapping&&!S.isSorted?"bg-primary":""}
          `},k))})}function re({stats:d}){return i.jsx(L,{children:i.jsxs(V,{className:"grid grid-cols-3 gap-4 p-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Comparisons"}),i.jsx("span",{className:"text-2xl font-bold text-foreground",children:d.comparisons})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Swaps"}),i.jsx("span",{className:"text-2xl font-bold text-foreground",children:d.swaps})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Time"}),i.jsxs("span",{className:"text-2xl font-bold text-foreground",children:[(d.timeElapsed/1e3).toFixed(2),"s"]})]})]})})}function ie({steps:d}){const s=S=>{switch(S){case"comparison":return"text-yellow-500 dark:text-yellow-400";case"swap":return"text-red-500 dark:text-red-400";case"merge":return"text-purple-500 dark:text-purple-400";case"partition":return"text-blue-500 dark:text-blue-400";default:return"text-muted-foreground"}};return i.jsxs(L,{children:[i.jsx(J,{children:i.jsx(K,{className:"text-lg",children:"Operation Log"})}),i.jsx(V,{children:i.jsx(X,{className:"h-[200px] w-full",children:i.jsx("div",{className:"space-y-1",children:d.map((S,k)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:new Date(S.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.jsx("span",{className:s(S.type),children:S.message})]},k))})})})]})}const ne=()=>{const[d,s]=y.useState([]),[S,k]=y.useState(!1),[z,j]=y.useState(!1),[D,R]=y.useState(50),P=y.useRef(50),[M,E]=y.useState([]),[q,$]=y.useState({comparisons:0,swaps:0,timeElapsed:0}),T=y.useRef(!1),h=y.useRef(!1);y.useEffect(()=>{P.current=D},[D]);const G=y.useCallback(C=>{const u=[];for(let w=0;w<C;w++)u.push({value:Math.floor(Math.random()*100)+1,isComparing:!1,isSwapping:!1,isSorted:!1});s(u),$({comparisons:0,swaps:0,timeElapsed:0}),E([])},[]),v=y.useCallback((C,u)=>{E(w=>[...w,{message:C,type:u,timestamp:Date.now()}])},[]),x=y.useCallback(async C=>{const u=C*(100/P.current/3);if(h.current)throw new Error("Sorting aborted");for(await new Promise(w=>setTimeout(w,u));T.current;){if(h.current)throw new Error("Sorting aborted");await new Promise(w=>setTimeout(w,100))}},[]),H=y.useCallback(async()=>{const C=Date.now();let u=0,w=0;const e=[...d];try{for(let a=0;a<e.length;a++){if(h.current)throw new Error("Sorting aborted");for(let o=0;o<e.length-a-1;o++){if(h.current)throw new Error("Sorting aborted");if(s(t=>t.map((l,n)=>({...l,isComparing:n===o||n===o+1,isSwapping:!1,isSorted:n>=e.length-a}))),v(`Comparing ${e[o].value} and ${e[o+1].value}`,"comparison"),u++,await x(50),e[o].value>e[o+1].value){s(l=>l.map((n,r)=>({...n,isComparing:!1,isSwapping:r===o||r===o+1,isSorted:r>=e.length-a}))),v(`Swapping ${e[o].value} and ${e[o+1].value}`,"swap");const t=e[o];e[o]=e[o+1],e[o+1]=t,w++,await x(50)}s(e.map((t,l)=>({...t,isComparing:!1,isSwapping:!1,isSorted:l>=e.length-a})))}}h.current||($({comparisons:u,swaps:w,timeElapsed:Date.now()-C}),s(e.map(a=>({...a,isSorted:!0}))))}catch(a){if(a instanceof Error&&a.message==="Sorting aborted")s(e.map(o=>({...o,isComparing:!1,isSwapping:!1,isSorted:!1})));else throw a}},[d,v,x]),B=y.useCallback(async()=>{const C=Date.now();let u=0,w=0;const e=[...d];try{for(let a=1;a<e.length;a++){if(h.current)throw new Error("Sorting aborted");let o=e[a],t=a-1;for(s(l=>l.map((n,r)=>({...n,isComparing:r===a,isSwapping:!1,isSorted:r<a}))),await x(50);t>=0&&e[t].value>o.value;){if(h.current)throw new Error("Sorting aborted");s(l=>l.map((n,r)=>({...n,isComparing:r===t,isSwapping:r===t+1,isSorted:r<a}))),v(`Comparing ${e[t].value} with ${o.value}`,"comparison"),u++,await x(50),s(l=>l.map((n,r)=>({...n,isComparing:!1,isSwapping:r===t||r===t+1,isSorted:r<a}))),v(`Moving ${e[t].value} to position ${t+1}`,"swap"),e[t+1]=e[t],w++,await x(50),t--}e[t+1]=o,s(e.map((l,n)=>({...l,isComparing:!1,isSwapping:!1,isSorted:n<=a})))}h.current||($({comparisons:u,swaps:w,timeElapsed:Date.now()-C}),s(e.map(a=>({...a,isSorted:!0}))))}catch(a){if(a instanceof Error&&a.message==="Sorting aborted")s(e.map(o=>({...o,isComparing:!1,isSwapping:!1,isSorted:!1})));else throw a}},[d,v,x]),F=y.useCallback(async()=>{const C=Date.now();let u=0,w=0;const e=[...d];try{for(let a=0;a<e.length;a++){if(h.current)throw new Error("Sorting aborted");let o=a;s(t=>t.map((l,n)=>({...l,isComparing:n===a,isSwapping:!1,isSorted:n<a}))),await x(50);for(let t=a+1;t<e.length;t++){if(h.current)throw new Error("Sorting aborted");s(l=>l.map((n,r)=>({...n,isComparing:r===t||r===o,isSwapping:!1,isSorted:r<a}))),v(`Comparing ${e[t].value} with ${e[o].value}`,"comparison"),u++,await x(50),e[t].value<e[o].value&&(o=t)}if(o!==a){s(l=>l.map((n,r)=>({...n,isComparing:!1,isSwapping:r===a||r===o,isSorted:r<a}))),v(`Swapping ${e[a].value} and ${e[o].value}`,"swap");const t=e[a];e[a]=e[o],e[o]=t,w++,await x(50)}s(e.map((t,l)=>({...t,isComparing:!1,isSwapping:!1,isSorted:l<=a})))}h.current||($({comparisons:u,swaps:w,timeElapsed:Date.now()-C}),s(e.map(a=>({...a,isSorted:!0}))))}catch(a){if(a instanceof Error&&a.message==="Sorting aborted")s(e.map(o=>({...o,isComparing:!1,isSwapping:!1,isSorted:!1})));else throw a}},[d,v,x]),O=y.useCallback(async()=>{const C=Date.now();let u=0,w=0;const e=[...d];[...d];const a=async(t,l,n)=>{if(h.current)throw new Error("Sorting aborted");const r=e.slice(t,l+1),g=e.slice(l+1,n+1);let c=0,m=0,b=t;for(let p=t;p<=n;p++)e[p];for(;c<r.length&&m<g.length;){if(h.current)throw new Error("Sorting aborted");s(p=>p.map((f,N)=>({...f,isComparing:N===t+c||N===l+1+m,isSwapping:!1}))),v(`Comparing ${r[c].value} and ${g[m].value}`,"comparison"),u++,await x(50),r[c].value<=g[m].value?(s(p=>p.map((f,N)=>({...f,isComparing:!1,isSwapping:N===b}))),e[b]=r[c],c++):(s(p=>p.map((f,N)=>({...f,isComparing:!1,isSwapping:N===b}))),e[b]=g[m],m++),w++,await x(50),s(e.map((p,f)=>({...p,isComparing:!1,isSwapping:!1,isSorted:f>=t&&f<=n&&(c===r.length&&m===g.length||c===r.length&&f<=l||m===g.length&&f>l)}))),b++}for(;c<r.length;){if(h.current)throw new Error("Sorting aborted");s(p=>p.map((f,N)=>({...f,isComparing:!1,isSwapping:N===b}))),e[b]=r[c],c++,b++,w++,await x(50)}for(;m<g.length;){if(h.current)throw new Error("Sorting aborted");s(p=>p.map((f,N)=>({...f,isComparing:!1,isSwapping:N===b}))),e[b]=g[m],m++,b++,w++,await x(50)}s(e.map((p,f)=>({...p,isComparing:!1,isSwapping:!1,isSorted:f>=t&&f<=n}))),await x(50)},o=async(t,l)=>{if(h.current)throw new Error("Sorting aborted");if(t<l){const n=Math.floor((t+l)/2);s(r=>r.map((g,c)=>({...g,isComparing:c===n,isSwapping:!1}))),await x(50),await o(t,n),await o(n+1,l),await a(t,n,l)}};try{await o(0,e.length-1),h.current||($({comparisons:u,swaps:w,timeElapsed:Date.now()-C}),s(e.map(t=>({...t,isSorted:!0}))))}catch(t){if(t instanceof Error&&t.message==="Sorting aborted")s(e.map(l=>({...l,isComparing:!1,isSwapping:!1,isSorted:!1})));else throw t}},[d,v,x]),Q=y.useCallback(async()=>{const C=Date.now();let u=0,w=0;const e=[...d],a=new Set,o=async(n,r)=>{if(h.current)throw new Error("Sorting aborted");const g=e[r];let c=n-1;s(m=>m.map((b,p)=>({...b,isComparing:p===r,isSwapping:!1,isSorted:a.has(p)}))),await x(50);for(let m=n;m<r;m++){if(h.current)throw new Error("Sorting aborted");s(b=>b.map((p,f)=>({...p,isComparing:f===m||f===r,isSwapping:!1,isSorted:a.has(f)}))),v(`Comparing ${e[m].value} with pivot ${g.value}`,"comparison"),u++,await x(50),e[m].value<g.value&&(c++,s(b=>b.map((p,f)=>({...p,isComparing:!1,isSwapping:f===c||f===m,isSorted:a.has(f)}))),v(`Swapping ${e[c].value} and ${e[m].value}`,"swap"),[e[c],e[m]]=[e[m],e[c]],w++,s(e.map((b,p)=>({...b,isComparing:!1,isSwapping:!1,isSorted:a.has(p)}))),await x(50))}return s(m=>m.map((b,p)=>({...b,isComparing:!1,isSwapping:p===c+1||p===r,isSorted:a.has(p)}))),v(`Swapping ${e[c+1].value} and ${e[r].value}`,"swap"),[e[c+1],e[r]]=[e[r],e[c+1]],w++,a.add(c+1),s(e.map((m,b)=>({...m,isComparing:!1,isSwapping:!1,isSorted:a.has(b)}))),await x(50),c+1},t=(n,r)=>{for(let g=n;g<r;g++)if(e[g].value>e[g+1].value)return!1;return!0},l=async(n,r)=>{if(h.current)throw new Error("Sorting aborted");if(n<r){const g=await o(n,r);if(t(n,g-1))for(let c=n;c<g;c++)a.add(c);if(t(g+1,r))for(let c=g+1;c<=r;c++)a.add(c);await l(n,g-1),await l(g+1,r)}else n===r&&a.add(n);s(e.map((g,c)=>({...g,isComparing:!1,isSwapping:!1,isSorted:a.has(c)})))};try{await l(0,e.length-1),h.current||($({comparisons:u,swaps:w,timeElapsed:Date.now()-C}),s(e.map(n=>({...n,isSorted:!0}))))}catch(n){if(n instanceof Error&&n.message==="Sorting aborted")s(e.map(r=>({...r,isComparing:!1,isSwapping:!1,isSorted:!1})));else throw n}},[d,v,x]),U=y.useCallback(()=>{h.current=!0,T.current=!1,k(!1),s(C=>C.map(u=>({...u,isComparing:!1,isSwapping:!1,isSorted:!1})))},[]),W=y.useCallback(async C=>{if(!S){E([]),$({comparisons:0,swaps:0,timeElapsed:0}),k(!0),h.current=!1,T.current=!1;try{switch(C){case"bubble":await H();break;case"quick":await Q();break;case"merge":await O();break;case"insertion":await B();break;case"selection":await F();break}}catch(u){u instanceof Error&&u.message==="Sorting aborted"&&v("Sorting aborted","info")}finally{k(!1)}}},[S,d,v]);return{array:d,generateArray:G,startSorting:W,isSorting:S,isPaused:z,togglePause:()=>{T.current=!T.current,j(!z)},stats:q,steps:M,speed:D,setSpeed:R,abortSorting:U}};function ce(){const{theme:d}=Y(),[s,S]=y.useState(30),{array:k,generateArray:z,startSorting:j,isSorting:D,isPaused:R,togglePause:P,stats:M,steps:E,speed:q,setSpeed:$,abortSorting:T}=ne();return y.useEffect(()=>{z(s)},[s,z]),i.jsxs("div",{className:`space-y-6 p-4 ${d}`,children:[i.jsx(se,{onGenerate:()=>z(s),onSort:j,onSizeChange:S,onSpeedChange:$,onAbort:T,disabled:D,currentSize:s,currentSpeed:q,isPaused:R,onPauseToggle:P}),i.jsx(te,{array:k}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsx(re,{stats:M}),i.jsx(ie,{steps:E})]})]})}export{ce as default};
